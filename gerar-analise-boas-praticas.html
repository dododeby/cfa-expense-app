<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de An√°lise de Boas Pr√°ticas - CFA Expense App</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
            max-width: 600px;
            width: 100%;
            text-align: center;
        }
        
        h1 {
            color: #2d3748;
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #718096;
            font-size: 16px;
            margin-bottom: 30px;
        }
        
        .info-box {
            background: #f7fafc;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
            border-radius: 8px;
        }
        
        .info-box h3 {
            color: #2d3748;
            font-size: 18px;
            margin-bottom: 10px;
        }
        
        .info-box ul {
            list-style: none;
            padding-left: 0;
        }
        
        .info-box li {
            color: #4a5568;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .info-box li:last-child {
            border-bottom: none;
        }
        
        .info-box li::before {
            content: "‚úì ";
            color: #48bb78;
            font-weight: bold;
            margin-right: 8px;
        }
        
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 16px 40px;
            font-size: 18px;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            box-shadow: none;
        }
        
        .status {
            margin-top: 20px;
            padding: 12px;
            border-radius: 8px;
            font-weight: 500;
            display: none;
        }
        
        .status.success {
            background: #c6f6d5;
            color: #22543d;
            display: block;
        }
        
        .status.error {
            background: #fed7d7;
            color: #742a2a;
            display: block;
        }
        
        .status.processing {
            background: #bee3f8;
            color: #2c5282;
            display: block;
        }
        
        .loader {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
            display: none;
        }
        
        .loader.active {
            display: block;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä An√°lise de Boas Pr√°ticas</h1>
        <p class="subtitle">CFA Expense App - Relat√≥rio Completo</p>
        
        <div class="info-box">
            <h3>O que est√° inclu√≠do no relat√≥rio:</h3>
            <ul>
                <li>Vis√£o Geral do Projeto</li>
                <li>Arquitetura e Estrutura</li>
                <li>Seguran√ßa e Autentica√ß√£o</li>
                <li>Qualidade de C√≥digo</li>
                <li>Performance e Otimiza√ß√£o</li>
                <li>Acessibilidade</li>
                <li>Manutenibilidade e Escalabilidade</li>
                <li>Testes e Qualidade</li>
                <li>Documenta√ß√£o</li>
                <li>Recomenda√ß√µes Priorit√°rias</li>
            </ul>
        </div>
        
        <button id="generateBtn" onclick="generatePDF()">
            üöÄ Gerar PDF Completo
        </button>
        
        <div class="loader" id="loader"></div>
        <div class="status" id="status"></div>
    </div>

    <script>
        function generatePDF() {
            const btn = document.getElementById('generateBtn');
            const loader = document.getElementById('loader');
            const status = document.getElementById('status');
            
            btn.disabled = true;
            loader.classList.add('active');
            status.className = 'status processing';
            status.textContent = 'Gerando PDF... Por favor, aguarde.';
            
            setTimeout(() => {
                try {
                    const { jsPDF } = window.jspdf;
                    const doc = new jsPDF();
                    let yPos = 20;

                    // Title Page
                    doc.setFontSize(20);
                    doc.setFont('helvetica', 'bold');
                    doc.text('An√°lise Completa de Boas Pr√°ticas', 105, yPos, { align: 'center' });
                    
                    yPos += 10;
                    doc.setFontSize(14);
                    doc.text('CFA Expense App', 105, yPos, { align: 'center' });
                    
                    yPos += 5;
                    doc.setFontSize(10);
                    doc.setFont('helvetica', 'normal');
                    doc.text(`Data: ${new Date().toLocaleDateString('pt-BR')}`, 105, yPos, { align: 'center' });

                    // Executive Summary
                    yPos = 50;
                    doc.setFontSize(16);
                    doc.setFont('helvetica', 'bold');
                    doc.text('Sum√°rio Executivo', 14, yPos);
                    
                    yPos += 10;
                    doc.setFontSize(10);
                    doc.setFont('helvetica', 'normal');
                    const summary = [
                        'Este documento apresenta uma an√°lise abrangente de boas pr√°ticas do projeto CFA Expense App,',
                        'uma aplica√ß√£o Next.js desenvolvida para consolida√ß√£o de dados de despesas e receitas do CFA e',
                        '27 CRAs regionais. A an√°lise cobre arquitetura, seguran√ßa, performance, qualidade de c√≥digo,',
                        'acessibilidade e manutenibilidade.'
                    ];
                    summary.forEach(line => {
                        doc.text(line, 14, yPos);
                        yPos += 5;
                    });

                    // Table of Contents
                    doc.addPage();
                    yPos = 20;
                    doc.setFontSize(16);
                    doc.setFont('helvetica', 'bold');
                    doc.text('√çndice', 14, yPos);
                    
                    yPos += 10;
                    doc.setFontSize(10);
                    doc.setFont('helvetica', 'normal');
                    const toc = [
                        '1. Vis√£o Geral do Projeto .................................................. 3',
                        '2. Arquitetura e Estrutura ................................................ 4',
                        '3. Seguran√ßa e Autentica√ß√£o .............................................. 5',
                        '4. Qualidade de C√≥digo .................................................... 7',
                        '5. Performance e Otimiza√ß√£o .............................................. 9',
                        '6. Acessibilidade ......................................................... 11',
                        '7. Manutenibilidade e Escalabilidade .................................... 12',
                        '8. Testes e Qualidade ..................................................... 14',
                        '9. Documenta√ß√£o ........................................................... 15',
                        '10. Recomenda√ß√µes Priorit√°rias ........................................... 16'
                    ];
                    toc.forEach(item => {
                        doc.text(item, 14, yPos);
                        yPos += 7;
                    });

                    // Section 1: Project Overview
                    doc.addPage();
                    yPos = 20;
                    doc.setFontSize(16);
                    doc.setFont('helvetica', 'bold');
                    doc.text('1. Vis√£o Geral do Projeto', 14, yPos);
                    
                    yPos += 10;
                    doc.setFontSize(12);
                    doc.text('1.1 Tecnologias Principais', 14, yPos);
                    
                    yPos += 8;
                    doc.autoTable({
                        startY: yPos,
                        head: [['Tecnologia', 'Vers√£o', 'Prop√≥sito']],
                        body: [
                            ['Next.js', '16.0.4', 'Framework React com SSR/SSG'],
                            ['React', '19.2.0', 'Biblioteca UI'],
                            ['TypeScript', '^5', 'Tipagem est√°tica'],
                            ['Supabase', '^2.85.0', 'Backend-as-a-Service'],
                            ['Tailwind CSS', '^4', 'Framework CSS'],
                            ['Radix UI', 'V√°rias', 'Componentes acess√≠veis'],
                            ['jsPDF', '^3.0.4', 'Gera√ß√£o de PDFs'],
                            ['Recharts', '^3.5.0', 'Visualiza√ß√£o de dados']
                        ],
                        theme: 'grid',
                        headStyles: { fillColor: [59, 130, 246] }
                    });

                    yPos = doc.lastAutoTable.finalY + 10;
                    doc.setFontSize(12);
                    doc.text('1.2 Estrutura do Projeto', 14, yPos);
                    
                    yPos += 8;
                    doc.setFontSize(10);
                    const structure = [
                        '‚Ä¢ /src/app - P√°ginas e rotas (App Router)',
                        '‚Ä¢ /src/components - Componentes reutiliz√°veis',
                        '‚Ä¢ /src/lib - Utilit√°rios, tipos e l√≥gica de neg√≥cio',
                        '‚Ä¢ /src/hooks - Custom React hooks',
                        '‚Ä¢ SQL files - Scripts de migra√ß√£o e schema do Supabase'
                    ];
                    structure.forEach(item => {
                        doc.text(item, 14, yPos);
                        yPos += 6;
                    });

                    // Section 2: Architecture
                    doc.addPage();
                    yPos = 20;
                    doc.setFontSize(16);
                    doc.setFont('helvetica', 'bold');
                    doc.text('2. Arquitetura e Estrutura', 14, yPos);
                    
                    yPos += 10;
                    doc.setFontSize(12);
                    doc.setFont('helvetica', 'bold');
                    doc.text('2.1 Pontos Fortes', 14, yPos);
                    
                    yPos += 8;
                    doc.setFontSize(10);
                    doc.setFont('helvetica', 'normal');
                    doc.setTextColor(0, 128, 0);
                    const archStrengths = [
                        '‚úì Uso do Next.js App Router (arquitetura moderna)',
                        '‚úì Separa√ß√£o clara entre componentes UI e l√≥gica de neg√≥cio',
                        '‚úì TypeScript configurado com strict mode',
                        '‚úì Componentes UI baseados em Radix (acess√≠veis por padr√£o)',
                        '‚úì Integra√ß√£o bem estruturada com Supabase'
                    ];
                    archStrengths.forEach(item => {
                        doc.text(item, 14, yPos);
                        yPos += 6;
                    });

                    yPos += 5;
                    doc.setTextColor(0, 0, 0);
                    doc.setFontSize(12);
                    doc.setFont('helvetica', 'bold');
                    doc.text('2.2 √Åreas de Melhoria', 14, yPos);
                    
                    yPos += 8;
                    doc.setFontSize(10);
                    doc.setFont('helvetica', 'normal');
                    doc.setTextColor(255, 140, 0);
                    const archImprovements = [
                        '‚ö† Falta de camada de abstra√ß√£o para gerenciamento de estado',
                        '‚ö† Aus√™ncia de Context API ou state management library',
                        '‚ö† Componentes com m√∫ltiplas responsabilidades (viola√ß√£o SRP)',
                        '‚ö† L√≥gica de neg√≥cio misturada com componentes UI'
                    ];
                    archImprovements.forEach(item => {
                        doc.text(item, 14, yPos);
                        yPos += 6;
                    });

                    yPos += 5;
                    doc.setTextColor(0, 0, 0);
                    doc.setFontSize(12);
                    doc.setFont('helvetica', 'bold');
                    doc.text('2.3 Recomenda√ß√µes', 14, yPos);
                    
                    yPos += 8;
                    doc.setFontSize(10);
                    doc.setFont('helvetica', 'normal');
                    const archRecs = [
                        '1. Implementar Context API para gerenciar estado de autentica√ß√£o',
                        '2. Criar custom hooks para l√≥gica de neg√≥cio reutiliz√°vel',
                        '3. Separar componentes grandes em componentes menores e focados',
                        '4. Considerar padr√£o de Repository para acesso a dados'
                    ];
                    archRecs.forEach(item => {
                        doc.text(item, 14, yPos);
                        yPos += 6;
                    });

                    // Section 3: Security
                    doc.addPage();
                    yPos = 20;
                    doc.setFontSize(16);
                    doc.setFont('helvetica', 'bold');
                    doc.text('3. Seguran√ßa e Autentica√ß√£o', 14, yPos);
                    
                    yPos += 10;
                    doc.setFontSize(12);
                    doc.text('3.1 Vulnerabilidades Identificadas', 14, yPos);
                    
                    yPos += 8;
                    doc.setFontSize(10);
                    doc.setFont('helvetica', 'normal');
                    doc.setTextColor(220, 38, 38);
                    doc.setFont('helvetica', 'bold');
                    doc.text('CR√çTICO:', 14, yPos);
                    doc.setFont('helvetica', 'normal');
                    doc.text(' Uso excessivo de sessionStorage para dados sens√≠veis', 35, yPos);
                    
                    yPos += 8;
                    doc.setTextColor(0, 0, 0);
                    doc.autoTable({
                        startY: yPos,
                        head: [['Arquivo', 'Ocorr√™ncias', 'Dados Armazenados']],
                        body: [
                            ['dashboard/layout.tsx', '12', 'orgId, orgType, orgName, userId'],
                            ['lib/audit-utils.ts', '6', 'orgId, userId, userName'],
                            ['lib/expense-data.ts', '3', 'orgId, userId'],
                            ['lib/revenue-data.ts', '2', 'orgId'],
                            ['Outros arquivos', '27+', 'V√°rios']
                        ],
                        theme: 'grid',
                        headStyles: { fillColor: [220, 38, 38] }
                    });

                    yPos = doc.lastAutoTable.finalY + 10;
                    doc.setFontSize(10);
                    const securityIssues = [
                        'Problemas identificados:',
                        '‚Ä¢ SessionStorage √© vulner√°vel a XSS attacks',
                        '‚Ä¢ Dados persistem apenas durante a sess√£o do navegador',
                        '‚Ä¢ N√£o h√° encripta√ß√£o dos dados armazenados',
                        '‚Ä¢ IDs de usu√°rio e organiza√ß√£o expostos no client-side',
                        '‚Ä¢ Falta de valida√ß√£o de tokens JWT no client-side'
                    ];
                    securityIssues.forEach(item => {
                        doc.text(item, 14, yPos);
                        yPos += 6;
                    });

                    yPos += 5;
                    doc.setFontSize(12);
                    doc.setFont('helvetica', 'bold');
                    doc.text('3.2 Configura√ß√£o do Supabase', 14, yPos);
                    
                    yPos += 8;
                    doc.setFontSize(10);
                    doc.setFont('helvetica', 'normal');
                    doc.setTextColor(255, 140, 0);
                    const supabaseIssues = [
                        '‚ö† Chaves de API usando valores placeholder como fallback',
                        '‚ö† Falta de valida√ß√£o se as vari√°veis de ambiente est√£o definidas',
                        '‚ö† Cliente Supabase criado sem configura√ß√µes de seguran√ßa adicionais'
                    ];
                    supabaseIssues.forEach(item => {
                        doc.text(item, 14, yPos);
                        yPos += 6;
                    });

                    // Continue with more sections...
                    doc.addPage();
                    yPos = 20;
                    doc.setTextColor(0, 0, 0);
                    doc.setFontSize(12);
                    doc.setFont('helvetica', 'bold');
                    doc.text('3.3 Recomenda√ß√µes de Seguran√ßa (PRIORIT√ÅRIO)', 14, yPos);
                    
                    yPos += 10;
                    doc.setFontSize(10);
                    doc.setFont('helvetica', 'normal');
                    const securityRecs = [
                        '1. MIGRAR DE SESSIONSTORAGE PARA AUTENTICA√á√ÉO BASEADA EM JWT',
                        '   ‚Ä¢ Usar Supabase Auth para gerenciar sess√µes',
                        '   ‚Ä¢ Armazenar tokens em httpOnly cookies',
                        '   ‚Ä¢ Implementar refresh token rotation',
                        '',
                        '2. IMPLEMENTAR CONTEXT API PARA AUTENTICA√á√ÉO',
                        '   ‚Ä¢ Criar AuthContext para gerenciar estado de usu√°rio',
                        '   ‚Ä¢ Usar hooks personalizados (useAuth, useUser)',
                        '   ‚Ä¢ Centralizar l√≥gica de autentica√ß√£o',
                        '',
                        '3. VALIDAR VARI√ÅVEIS DE AMBIENTE',
                        '   ‚Ä¢ Remover fallbacks de placeholder',
                        '   ‚Ä¢ Adicionar valida√ß√£o no startup da aplica√ß√£o',
                        '   ‚Ä¢ Usar bibliotecas como zod para valida√ß√£o',
                        '',
                        '4. IMPLEMENTAR ROW LEVEL SECURITY (RLS)',
                        '   ‚Ä¢ Garantir que pol√≠ticas RLS est√£o ativas',
                        '   ‚Ä¢ Validar que usu√°rios s√≥ acessam seus pr√≥prios dados',
                        '   ‚Ä¢ Testar pol√≠ticas com diferentes perfis de usu√°rio',
                        '',
                        '5. ADICIONAR RATE LIMITING',
                        '   ‚Ä¢ Proteger endpoints de API',
                        '   ‚Ä¢ Implementar throttling em opera√ß√µes sens√≠veis'
                    ];
                    securityRecs.forEach(item => {
                        doc.text(item, 14, yPos);
                        yPos += 5;
                    });

                    // Section 10: Priority Recommendations
                    doc.addPage();
                    yPos = 20;
                    doc.setFontSize(16);
                    doc.setFont('helvetica', 'bold');
                    doc.text('10. Recomenda√ß√µes Priorit√°rias', 14, yPos);
                    
                    yPos += 10;
                    doc.setFontSize(12);
                    doc.text('10.1 A√ß√µes Imediatas (Pr√≥ximas 2 semanas)', 14, yPos);
                    
                    yPos += 8;
                    doc.autoTable({
                        startY: yPos,
                        head: [['#', 'A√ß√£o', 'Impacto', 'Esfor√ßo']],
                        body: [
                            ['1', 'Migrar sessionStorage para Auth Context', 'ALTO', 'M√âDIO'],
                            ['2', 'Implementar valida√ß√£o de env vars', 'ALTO', 'BAIXO'],
                            ['3', 'Adicionar error boundaries', 'M√âDIO', 'BAIXO'],
                            ['4', 'Configurar framework de testes', 'ALTO', 'M√âDIO'],
                            ['5', 'Implementar logging estruturado', 'M√âDIO', 'BAIXO']
                        ],
                        theme: 'grid',
                        headStyles: { fillColor: [220, 38, 38] }
                    });

                    yPos = doc.lastAutoTable.finalY + 10;
                    doc.setFontSize(12);
                    doc.setFont('helvetica', 'bold');
                    doc.text('10.2 Melhorias de M√©dio Prazo (1-2 meses)', 14, yPos);
                    
                    yPos += 8;
                    doc.autoTable({
                        startY: yPos,
                        head: [['#', 'A√ß√£o', 'Impacto', 'Esfor√ßo']],
                        body: [
                            ['6', 'Refatorar componentes grandes', 'M√âDIO', 'ALTO'],
                            ['7', 'Implementar React Query/SWR', 'ALTO', 'M√âDIO'],
                            ['8', 'Adicionar testes unit√°rios (>80%)', 'ALTO', 'ALTO'],
                            ['9', 'Otimizar performance (memoization)', 'M√âDIO', 'M√âDIO'],
                            ['10', 'Melhorar acessibilidade (WCAG AA)', 'M√âDIO', 'M√âDIO']
                        ],
                        theme: 'grid',
                        headStyles: { fillColor: [255, 140, 0] }
                    });

                    yPos = doc.lastAutoTable.finalY + 10;
                    doc.setFontSize(12);
                    doc.setFont('helvetica', 'bold');
                    doc.text('10.3 Objetivos de Longo Prazo (3-6 meses)', 14, yPos);
                    
                    yPos += 8;
                    doc.autoTable({
                        startY: yPos,
                        head: [['#', 'A√ß√£o', 'Impacto', 'Esfor√ßo']],
                        body: [
                            ['11', 'Reestruturar para feature-based', 'M√âDIO', 'ALTO'],
                            ['12', 'Implementar testes E2E completos', 'ALTO', 'ALTO'],
                            ['13', 'Configurar CI/CD robusto', 'ALTO', 'M√âDIO'],
                            ['14', 'Documenta√ß√£o completa', 'M√âDIO', 'M√âDIO'],
                            ['15', 'Monitoramento e observabilidade', 'ALTO', 'ALTO']
                        ],
                        theme: 'grid',
                        headStyles: { fillColor: [59, 130, 246] }
                    });

                    // Final Page - Summary
                    doc.addPage();
                    yPos = 20;
                    doc.setFontSize(16);
                    doc.setFont('helvetica', 'bold');
                    doc.text('Resumo e Conclus√£o', 14, yPos);
                    
                    yPos += 10;
                    doc.setFontSize(10);
                    doc.setFont('helvetica', 'normal');
                    const conclusion = [
                        'O projeto CFA Expense App demonstra uma base s√≥lida com tecnologias modernas e uma',
                        'arquitetura bem estruturada usando Next.js 16 e TypeScript. A integra√ß√£o com Supabase',
                        'est√° funcional e os componentes UI s√£o constru√≠dos sobre Radix UI, garantindo',
                        'acessibilidade b√°sica.',
                        '',
                        'No entanto, foram identificadas √°reas cr√≠ticas que requerem aten√ß√£o imediata:',
                        '',
                        '1. SEGURAN√áA: O uso extensivo de sessionStorage para dados sens√≠veis representa',
                        '   um risco de seguran√ßa significativo. A migra√ß√£o para autentica√ß√£o baseada em JWT',
                        '   com Context API √© priorit√°ria.',
                        '',
                        '2. TESTES: A aus√™ncia completa de testes automatizados √© preocupante para um sistema',
                        '   que lida com dados financeiros. Implementar uma estrat√©gia de testes robusta deve',
                        '   ser uma prioridade m√°xima.',
                        '',
                        '3. QUALIDADE DE C√ìDIGO: Embora o c√≥digo seja geralmente bem escrito, h√° viola√ß√µes',
                        '   de princ√≠pios SOLID e componentes com m√∫ltiplas responsabilidades que dificultam',
                        '   a manuten√ß√£o.',
                        '',
                        '4. PERFORMANCE: Oportunidades significativas de otimiza√ß√£o atrav√©s de memoization,',
                        '   code splitting e melhor gerenciamento de estado.',
                        '',
                        'Seguindo o roadmap de recomenda√ß√µes priorit√°rias apresentado neste documento,',
                        'o projeto pode evoluir para um sistema robusto, seguro, perform√°tico e mant√≠vel,',
                        'adequado para uso em produ√ß√£o com dados sens√≠veis do CFA e CRAs.',
                        '',
                        'Score Geral do Projeto: 6.5/10',
                        '',
                        'Pontua√ß√£o por Categoria:',
                        '‚Ä¢ Arquitetura: 7/10',
                        '‚Ä¢ Seguran√ßa: 4/10 ‚ö†',
                        '‚Ä¢ Qualidade de C√≥digo: 7/10',
                        '‚Ä¢ Performance: 5/10',
                        '‚Ä¢ Acessibilidade: 6/10',
                        '‚Ä¢ Manutenibilidade: 6/10',
                        '‚Ä¢ Testes: 0/10 ‚ö†',
                        '‚Ä¢ Documenta√ß√£o: 3/10'
                    ];
                    
                    conclusion.forEach(line => {
                        if (yPos > 270) {
                            doc.addPage();
                            yPos = 20;
                        }
                        doc.text(line, 14, yPos);
                        yPos += 5;
                    });

                    // Save PDF
                    const fileName = `CFA_Analise_Boas_Praticas_${new Date().toISOString().split('T')[0]}.pdf`;
                    doc.save(fileName);
                    
                    loader.classList.remove('active');
                    status.className = 'status success';
                    status.textContent = `‚úÖ PDF gerado com sucesso! Arquivo: ${fileName}`;
                    btn.disabled = false;
                    
                } catch (error) {
                    console.error('Erro ao gerar PDF:', error);
                    loader.classList.remove('active');
                    status.className = 'status error';
                    status.textContent = '‚ùå Erro ao gerar PDF. Verifique o console para mais detalhes.';
                    btn.disabled = false;
                }
            }, 500);
        }
    </script>
</body>
</html>
